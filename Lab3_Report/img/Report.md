# **Lab3 Report**

## Task 1: Phong Illumination 

在这个任务中，我们实现了Phong光照模型。Phong光照模型主要包含了3个部分的光照：环境光，漫反射和镜面反射。在我们实现的函数中，只包含漫反射和镜面反射。为了实现方便，我自己添加了一个函数`float vec_cos(vec3 d1,vec3 d2)`，该函数输入为两个向量，如果它们夹角的余弦值大于0，那么返回夹角的余弦值，否则返回0。然后只需要按照课件上的公式求出光照即可。
**问题1：**
顶点着色器的输入为顶点相关的信息，如位置、法向量等等，输出为顶点的颜色。片段着色器为输入为一个vec4颜色变量，输出为最终的颜色，我们一般将顶点着色器的输出作为片段着色器的输入。为了将从顶点着色器向片段着色器发送数据，我们只需要在顶点着色器中声明一个输出，在片段着色器中声明一个同名的输入，这时候，OpenGL就会把两个变量链接到一起，它们之间就能发送数据了。
**问题2：**
`diffuseFactor.a`的值代表了当前这个顶点的透明度，当透明度为0的时候，光线会完全穿过顶点，而当透明度比较小的时候大部分光线也会穿过。所以我们应当设定一个阈值$a$,当透明度小于这个阈值时，我们认为光线穿过，显然这个阈值是大于0的，我们设置成$0.2$会比较合理。
